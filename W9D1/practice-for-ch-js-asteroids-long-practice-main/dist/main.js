(()=>{var e={621:function(e){!function(t){var r,n={},o={16:!1,18:!1,17:!1,91:!1},i="all",u={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},c={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},a=function(e){return c[e]||e.toUpperCase().charCodeAt(0)},l=[];for(r=1;r<20;r++)c["f"+r]=111+r;function f(e,t){for(var r=e.length;r--;)if(e[r]===t)return r;return-1}function s(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var p={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function y(e){for(r in o)o[r]=e[p[r]]}function h(e,t,r){var o,i;o=v(e),void 0===r&&(r=t,t="all");for(var u=0;u<o.length;u++)i=[],(e=o[u].split("+")).length>1&&(i=m(e),e=[e[e.length-1]]),e=e[0],(e=a(e))in n||(n[e]=[]),n[e].push({shortcut:o[u],scope:t,method:r,key:o[u],mods:i})}for(r in u)h[r]=!1;function b(){return i||"all"}function v(e){var t;return""==(t=(e=e.replace(/\s/g,"")).split(","))[t.length-1]&&(t[t.length-2]+=","),t}function m(e){for(var t=e.slice(0,e.length-1),r=0;r<t.length;r++)t[r]=u[t[r]];return t}function d(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent&&e.attachEvent("on"+t,(function(){r(window.event)}))}d(document,"keydown",(function(e){!function(e){var t,r,i,c,a,s;if(t=e.keyCode,-1==f(l,t)&&l.push(t),93!=t&&224!=t||(t=91),t in o)for(i in o[t]=!0,u)u[i]==t&&(h[i]=!0);else if(y(e),h.filter.call(this,e)&&t in n)for(s=b(),c=0;c<n[t].length;c++)if((r=n[t][c]).scope==s||"all"==r.scope){for(i in a=r.mods.length>0,o)(!o[i]&&f(r.mods,+i)>-1||o[i]&&-1==f(r.mods,+i))&&(a=!1);(0!=r.mods.length||o[16]||o[18]||o[17]||o[91])&&!a||!1===r.method(e,r)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}(e)})),d(document,"keyup",(function(e){var t,r=e.keyCode,n=f(l,r);if(n>=0&&l.splice(n,1),93!=r&&224!=r||(r=91),r in o)for(t in o[r]=!1,u)u[t]==r&&(h[t]=!1)})),d(window,"focus",(function(){for(r in o)o[r]=!1;for(r in u)h[r]=!1}));var g=t.key;t.key=h,t.key.setScope=function(e){i=e||"all"},t.key.getScope=b,t.key.deleteScope=function(e){var t,r,o;for(t in n)for(r=n[t],o=0;o<r.length;)r[o].scope===e?r.splice(o,1):o++},t.key.filter=function(e){var t=(e.target||e.srcElement).tagName;return!("INPUT"==t||"SELECT"==t||"TEXTAREA"==t)},t.key.isPressed=function(e){return"string"==typeof e&&(e=a(e)),-1!=f(l,e)},t.key.getPressedKeyCodes=function(){return l.slice(0)},t.key.noConflict=function(){var e=t.key;return t.key=g,e},t.key.unbind=function(e,t){var r,o,i,u,c,l=[];for(r=v(e),u=0;u<r.length;u++){if((o=r[u].split("+")).length>1&&(l=m(o),e=o[o.length-1]),e=a(e),void 0===t&&(t=b()),!n[e])return;for(i=0;i<n[e].length;i++)(c=n[e][i]).scope===t&&s(c.mods,l)&&(n[e][i]={})}},e.exports=h}(this)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}const n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pos=t.pos,this.vel=t.vel,this.radius=t.radius,this.color=t.color,this.game=t.game}var r,n;return r=e,(n=[{key:"draw",value:function(e){e.fillStyle=this.color,e.beginPath(),e.arc(this.pos[0],this.pos[1],this.radius,0,2*Math.PI,!0),e.fill()}},{key:"move",value:function(){this.pos=this.game.wrap([this.pos[0]+this.vel[0],this.pos[1]+this.vel[1]])}},{key:"isCollidedWith",value:function(e){return Math.sqrt(Math.pow(this.pos[0]-e.pos[0],2)+Math.pow(this.pos[1]-e.pos[1],2))<this.radius+e.radius}},{key:"collideWith",value:function(e){return!0}}])&&t(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function a(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(f,e);var t,r,n,a,l=(n=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(n);if(a){var r=c(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function f(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),l.call(this,{pos:e.pos,vel:[0,0],radius:f.RADIUS,color:f.COLOR,game:e.game})}return t=f,(r=[{key:"relocate",value:function(){this.pos=this.game.randomPosition(),this.vel=[0,0]}},{key:"power",value:function(e){this.vel[0]+=e[0],this.vel[1]+=e[1]}}])&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(n);a(f,"COLOR","blue"),a(f,"RADIUS",10);const s=f;function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function v(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===p(t)?t:String(t)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(n);if(o){var r=b(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,{pos:e.pos,vel:(5,r=2*Math.PI*Math.random(),t=[Math.sin(r),Math.cos(r)],5,[5*t[0],5*t[1]]),radius:u.RADIUS,color:u.COLOR,game:e.game});var t,r}return t=u,(r=[{key:"collideWith",value:function(e){return e instanceof s&&(e.relocate(),!0)}}])&&y(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(n);v(d,"COLOR","red"),v(d,"RADIUS",25);const g=d;function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function k(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===w(t)?t:String(t)}var P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.asteroids=[],this.addAsteroids(),this.ship=new s({pos:this.randomPosition(),game:this}),this.bullets=[]}var t,r,n;return t=e,n=[{key:"wrap",value:function(e,t){return e<0?t-e%t:e>t?e%t:e}}],(r=[{key:"addAsteroids",value:function(){for(var t=0;t<e.NUM_ASTEROIDS;t++)this.asteroids.push(new g({pos:this.randomPosition(),game:this}))}},{key:"randomPosition",value:function(){return[Math.random()*e.DIM_X,Math.random()*e.DIM_Y]}},{key:"draw",value:function(t){t.clearRect(0,0,e.DIM_X,e.DIM_Y),this.allObjects().forEach((function(e){return e.draw(t)}))}},{key:"moveObjects",value:function(){this.allObjects().forEach((function(e){return e.move()}))}},{key:"allObjects",value:function(){return this.asteroids.concat([this.ship]).concat(this.bullets)}},{key:"wrap",value:function(t){return[e.wrap(t[0],e.DIM_X),e.wrap(t[1],e.DIM_Y)]}},{key:"checkCollisions",value:function(){for(var e=this.allObjects(),t=0;t<e.length;t++)for(var r=t+1;r<e.length;r++)if(e[t].isCollidedWith(e[r])&&e[t].collideWith(e[r]))return void console.log("COLLISION")}},{key:"step",value:function(){this.moveObjects(),this.checkCollisions()}},{key:"remove",value:function(e){var t=this.asteroids.indexOf(e);this.asteroids.splice(t,1)}}])&&O(t.prototype,r),n&&O(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();k(P,"DIM_X",500),k(P,"DIM_Y",500),k(P,"NUM_ASTEROIDS",4);const j=P;function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===C(o)?o:String(o)),n)}var o}var _=r(621),R=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.game=new j,this.ctx=t}var t,r;return t=e,(r=[{key:"start",value:function(){var e=this;setInterval((function(){e.game.step(),e.game.draw(e.ctx)}),20),this.bindKeyHandlers()}},{key:"bindKeyHandlers",value:function(){var e=this;void 0!==_&&"function"==typeof _.key?console.log("Keymaster is properly initialized."):console.log("Keymaster is not properly initialized."),_.keyDown=function(t){37===t.keyCode?e.game.ship.power([-1,0]):38===t.keyCode?e.game.ship.power([0,-1]):39===t.keyCode?e.game.ship.power([1,0]):40===t.keyCode?e.game.ship.power([0,1]):32===t.keyCode&&e.game.ship.fireBullet()},_.keyUp=function(t){console.log(t.keyCode),37===t.keyCode?e.game.ship.power([1,0]):38===t.keyCode?e.game.ship.power([0,1]):39===t.keyCode?e.game.ship.power([-1,0]):40===t.keyCode&&e.game.ship.power([0,-1])}}}])&&E(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),I=document.getElementById("game-canvas");I.width=j.DIM_X,I.height=j.DIM_Y,new R(I.getContext("2d")).start()})()})();